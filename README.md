<p align="center">
<img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/f879a8d6-f77a-4ba3-a96a-837c95b2ca28" width="50%"/>

# ğŸ–¥ï¸ Ocean Bloom (ë‚´ë°°ì¼ ìœ ë‹ˆí‹° 2ê¸° ìµœì¢… íŒ€í”„ë¡œì íŠ¸ 23ì¡°)
### â— ìœ ë£Œ ì—ì…‹ ì‚¬ìš©ìœ¼ë¡œ ì—ì…‹ ë¶€ë¶„ì€ ì‚­ì œí•˜ì˜€ìŠµë‹ˆë‹¤. â—

+ ì‹ë¬¼í•™ì„ ì „ê³µí•œ í•´êµ°ì´ ë°”ë‹¤ë¥¼ í•­í•´í•˜ë©´ì„œ ì‹ë¬¼ ë„ê°ì„ ëª¨ë‘ ì±„ìš¸ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”!
+ ê²Œì„ ì‹œì‘ ì‹œ, ê°„ë‹¨í•œ íŠœí† ë¦¬ì–¼ì„ ì§„í–‰í•˜ê³ , [Tab]-ì¡°ì‘ë²• ìœ¼ë¡œ ì–¸ì œë“ ì§€ ì¡°ì‘ë²•ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
+ ê°ê°ì˜ ì„¬ì— ìˆ¨ì–´ ìˆëŠ” NPCë¥¼ ì°¾ì•„ì„œ ì•„ì´í…œì„ êµ¬ë§¤í•˜ì„¸ìš”!
+ í˜¼ìì„œëŠ” í˜ë“¤ì–´ìš”. ë™ë£Œë¥¼ ì†Œí™˜í•´ì„œ í•¨ê»˜ ì‹¸ìš°ì„¸ìš”!
+ ë³´ë¬¼ë°•ìŠ¤ë¥¼ ì§€ë‚˜ì¹˜ì§€ ë§ˆì„¸ìš”! ê²Œì„ì„ ì§„í–‰í•˜ëŠ”ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤!
+ ë„ê°ì„ ì—´ì–´ì„œ ì‹ë¬¼ì´ ìˆëŠ” ì„¬ê³¼ ì‹ë¬¼ ì±„ì§‘ ë‚œì´ë„ë¥¼ í™•ì¸í•˜ì„¸ìš”!
+ ë™ë£Œë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©´ ì¢…ë£Œ ì‹œê°„ì— ë”°ë¼ ë°©ì¹˜í˜• ë³´ìƒì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
+ í•´ì  ë³´ìŠ¤ ê·¼ì²˜ì— ì‹ë¬¼ì„ ì˜ ì°¾ì•„ë³´ì„¸ìš”!
<br/>

## ğŸ“½ï¸ í”„ë¡œì íŠ¸ ì†Œê°œ
 - ê²Œì„ ì´ë¦„ : Ocean Bloom
 - í”Œë«í¼ : PC
 - ì¥ë¥´ : 3D ì•¡ì…˜ ì–´ë“œë²¤ì³
 - ê°œë°œ ê¸°ê°„ : 24.01.10 ~ 24.02.28
<br/>

## âš™ï¸ Environment

- `Unity 2022.3.2`
- **IDE** : Visual Studio 2019, 2022, MonoDevelop
- **VCS** : Git (GitHub Desktop)
- **Envrionment** : PC `only`
- **Resolution** : 1920 x 1080 `FHD`
<br/>

## ğŸ‘¤ Collaborator - Team Intro
- íŒ€ì¥  `ë‚˜ì¬ë¯¼` - í”Œë ˆì´ì–´ êµ¬í˜„, ì´ê¸° êµ¬í˜„, ì €ì¥ êµ¬í˜„, ë¡œë”© ì”¬ êµ¬í˜„, ì˜¤ë¸Œì íŠ¸ í’€ êµ¬í˜„, ì  êµ¬í˜„
- íŒ€ì›1 `ì–‘ì¸í˜¸` - ëŒ€í¬ êµ¬í˜„, ë§µ ë””ìì¸, ë¯¸ë‹ˆë§µ êµ¬í˜„, UI êµ¬í˜„
<br/>

## â–¶ï¸ ê²Œì„ ìŠ¤í¬ë¦°ìƒ·

<p align="center">
  <img src="https://github.com/JaeMinNa/Hero-Battle3D/assets/149379194/59234705-f74a-4aad-8a55-dacceb656889" width="49%"/>
  <img src="https://github.com/JaeMinNa/Hero-Battle3D/assets/149379194/29e69efe-79ec-4f58-9f45-8089e805bcf4" width="49%"/>
</p>
<p align="center">
  <img src="https://github.com/JaeMinNa/Hero-Battle3D/assets/149379194/e5781fa5-a078-471f-9c02-87f1b4be045e" width="49%"/>
  <img src="https://github.com/JaeMinNa/Hero-Battle3D/assets/149379194/82def12d-45af-4086-9a89-87754aa670c4" width="49%"/>
  </p>
<br/>

## ğŸ”³ ì™€ì´ì–´ í”„ë ˆì„
![image](https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/55a6fc97-c435-4d0b-8b14-ad77a930ecbb)


## ğŸ§© í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°

### GameManager
![image](https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/9e6cf307-c767-430f-becf-6c92e9706628)
   
### Player   
![image](https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/28588140-a69c-4b72-8199-e2d35313b1ed)

### Enemy
![image](https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/912af85b-4a6f-4cad-96ea-c976dd18cb6d)


## âœï¸ êµ¬í˜„ ê¸°ëŠ¥

### 1. ìƒíƒœ íŒ¨í„´ êµ¬í˜„

#### êµ¬í˜„ ì´ìœ 
- ë‹¤ì–‘í•œ ìƒíƒœë¥¼ ê°€ì§„ ì ê³¼ ë™ë£Œ ì›€ì§ì„ êµ¬í˜„

#### êµ¬í˜„ ë°©ë²•
- IState ì¸í„°í˜ì´ìŠ¤ : êµ¬ì²´ì ì¸ ìƒíƒœ í´ë˜ìŠ¤ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
```C#
public interface IEnemyState
{
    void Handle(EnemyController controller);
}
``` 
â€‹
- Context ìŠ¤í¬ë¦½íŠ¸ : í´ë¼ì´ì–¸íŠ¸ê°€ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ìš”ì²­í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜
```C#
public void Transition()
{
    CurrentState.Handle(_enemyController);
}

public void Transition(IEnemyState state)
{
    CurrentState = state;
    CurrentState.Handle(_enemyController);
}
```
â€‹
- State ìŠ¤í¬ë¦½íŠ¸ : ê° Stateë¥¼ ì •ì˜, State ë³€ê²½ ì¡°ê±´ ì„¤ì •
```C#
// Startë¬¸ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
public void Handle(EnemyController enemyController)
{
    if (!_enemyController)
        _enemyController = enemyController;

    Debug.Log("Idle ìƒíƒœ ì‹œì‘");   
    _idleTime = 3f;
    _time = 0;

    StartCoroutine(COUpdate());
}

// Updateë¬¸ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
IEnumerator COUpdate()
{
  while (true)
  {
  	// ê°ê°ì˜ ìƒíƒœ ë³€í™˜ ì¡°ê±´ ì„¤ì •
      if (_enemyController.Distance <= 5f)
      {
          _enemyController.AttackStart();
          break;
      }          
      if (_time >= _idleTime)
      {
          _enemyController.WalkStart();
          break;
      }
    
      yield return null;
  }
}
```
<br/>

### 2. ObjectPool êµ¬í˜„

#### êµ¬í˜„ ì´ìœ 
- ë¯¸ë¦¬ ìƒì„±í•œ ì´íƒ„ í”„ë¦¬íŒ¹ì„ íŒŒê´´í•˜ì§€ ì•Šê³ , ì¬ì‚¬ìš©ì„ ìœ„í•´
- í”„ë¦¬íŒ¹ì˜ Instantiate, Destroy í•¨ìˆ˜ ì‚¬ìš©ì„ ì¤„ì´ê¸° ìœ„í•´

#### êµ¬í˜„ ë°©ë²•
- ObjectPoolManagerë¡œ ObjectPoolë“¤ì„ ê´€ë¦¬
- Sizeë§Œí¼ ë¯¸ë¦¬ í”„ë¦¬íŒ¹ì„ ìƒì„±í•˜ê³ , ì„ ì…ì„ ì¶œì¸ Queue ìë£Œêµ¬ì¡°ë¡œ ìˆœì°¨ì ìœ¼ë¡œ SetActive(true) ì‹¤í–‰
```C#
public GameObject SpawnFromPool(string tag)
{
    if (!PoolDictionary.ContainsKey(tag))
        return null;

    GameObject obj = PoolDictionary[tag].Dequeue();
    PoolDictionary[tag].Enqueue(obj);

    return obj;
}
```
<br/>

### 3. GameManger êµ¬í˜„

#### êµ¬í˜„ ì´ìœ 
- ê°ê° Mangerë“¤ì„ í†µí•©í•˜ì—¬ ì ‘ê·¼ ê°€ëŠ¥í•œ Managerê°€ í•„ìš”

#### êµ¬í˜„ ë°©ë²•
- ì–´ë””ì„œë“  ì‰½ê²Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼ í•˜ë¯€ë¡œ ì‹±ê¸€í†¤ ì‚¬ìš©
- GameMangerì€ Managerë“¤ì„ ê´€ë¦¬í•˜ëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ ìˆ˜í–‰
```C#
public static GameManager I;

[field: SerializeField] public DataManager DataManager { get; private set; }
[field: SerializeField] public SoundManager SoundManager { get; private set; }

private void Awake()
{
    if (I == null) I = this;
    else Destroy(gameObject);
    
    Init();
}

private void Init()
{
    DataManager.Init();
    SoundManager.Init();
}

private void Release()
{
    DataManager.Release();
    SoundManager.Release();
}
```
<br/>

### 4. ë¡œë”© ì”¬ êµ¬í˜„
  
#### êµ¬í˜„ ì´ìœ 
- ì”¬ì´ ì „í™˜ ë  ë•Œ, ë‹¤ìŒ ì”¬ì—ì„œ ì‚¬ìš©ë  ë¦¬ì†ŒìŠ¤ë“¤ì„ ì½ì–´ì™€ì„œ ê²Œì„ì„ ìœ„í•œ ì¤€ë¹„ ì‘ì—… í•„ìš”
- ë¡œë”© í™”ë©´ì´ ì—†ë‹¤ë©´ ê°€ë§Œíˆ ë©ˆì¶˜ í™”ë©´ì´ë‚˜ ê¹Œë§Œ í™”ë©´ë§Œ ë³´ì¼ ìˆ˜ ìˆìŒ
- ì”¬ì´ ì „í™˜ ë  ë•Œ, ì§€ë£¨í•œ ëŒ€ê¸° ì‹œê°„ì„ ì´ë¯¸ì§€ë‚˜ Tipìœ¼ë¡œ ì§€ë£¨í•˜ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•´

#### êµ¬í˜„ ë°©ë²•
- ë¹„ë™ê¸° ë°©ì‹ ì”¬ ì „í™˜ êµ¬í˜„
```csharp
IEnumerator LoadScene()
{
    yield return null;
    AsyncOperation op = SceneManager.LoadSceneAsync(NextScene);
    op.allowSceneActivation = false;
    float timer = 0.0f;
    while (!op.isDone)
    {
        yield return null;
        timer += Time.deltaTime;
        if (op.progress < 0.9f)
        {
            _loadingBar.value = Mathf.Lerp(_loadingBar.value, op.progress, timer);
            if (_loadingBar.value >= op.progress)
            {
                timer = 0f;
            }
        }
        else
        {
            _loadingBar.value = Mathf.Lerp(_loadingBar.value, 1f, timer);
            if (_loadingBar.value == 1.0f)
            {
                op.allowSceneActivation = true;
                yield break;
            }
        }
    }
}
```

- allowSceneActivationì„ falseë¡œ ì„¤ì •
<br/>

  
### 5. 3D ì‚¬ìš´ë“œ êµ¬í˜„

#### êµ¬í˜„ ì´ìœ 
- ìœ ë‹ˆí‹°ì—ì„œ ì œê³µí•˜ëŠ” 3D ì‚¬ìš´ë“œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë‹ˆ ê±°ë¦¬ì— ë”°ë¥¸ ì†Œë¦¬ ìŒëŸ‰ í¬ê¸° ì¡°ì ˆì´ í•œë²ˆì”© ì œëŒ€ë¡œ ì ìš©ì´ ì•ˆë˜ëŠ” í˜„ìƒ ë°œìƒ
- ì‚¬ìš´ë“œê°€ ê¹¨ì§€ê±°ë‚˜ ì´ìƒí•œ ì†Œë¦¬ë¡œ ë³€ì§ˆë˜ì–´ ì¬ìƒë˜ëŠ” í˜„ìƒ ë°œìƒ

#### êµ¬í˜„ ë°©ë²•
- 3D ì‚¬ìš´ë“œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ê±°ë¦¬ì— ë”°ë¼ ë³¼ë¥¨ì„ ì§ì ‘ ì¡°ì ˆí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§ì ‘ êµ¬í˜„
- ë¯¸ë¦¬ ìƒì„±í•œ ëª‡ ê°œì˜ AudioSourceê°€ ìˆœì°¨ì ìœ¼ë¡œ ì¬ìƒí•˜ë„ë¡ êµ¬í˜„

```C#
public void StartSFX(string name, Vector3 position)
{
	_index = _index % _etcSFXAudioSource.Length;
	
	float distance = Vector3.Distance(position, GameManager.I.PlayerManager.Player.transform.position);
	float volume = 1f - (distance / _maxDistance);
	if (volume < 0) volume = 0f;
	_etcSFXAudioSource.volume = Mathf.Clamp01(volume);
	_etcSFXAudioSource.PlayOneShot(_sfx[name]);
	
	_index++;
}
```
<br/>

## ğŸ’¥ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1. Input Systemì„ ì´ìš©í•œ Player ì´ë™ ê°œì„ 
  <img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/401b8466-c112-43e6-ab26-1a410670b324" width="50%"/>

#### Input í´ë˜ìŠ¤ë¡œ Player ì´ë™ êµ¬í˜„
- ê°„í¸í•˜ê³  ì§ê´€ì ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥
- Update ë¬¸ì—ì„œ ë§¤ í”„ë ˆì„ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì— ì˜í–¥
```
private void FixedUpdate()
{
	float moveHorizontal = Input.GetAxis("Horizontal");
	float moveVertical = Input.GetAxis("Vertical");
	
	Vector3 movement = new Vector3(moveHorizontal, 0f, moveVertical);
	_rigidbody.AddForce(movement * speed);
}
```

#### Input Systemìœ¼ë¡œ ê°œì„ 
- ì…ë ¥ ì´ë²¤íŠ¸ì— ëŒ€í•œ ë°”ì¸ë”© ë° ì²˜ë¦¬ë¥¼ ì‰½ê²Œ êµ¬ì„±
- Updateë¬¸ì—ì„œ ë§¤ í”„ë ˆì„ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ìŒ
- ë‹¤ì–‘í•œ ì…ë ¥ ì¥ì¹˜ë¥¼ ì§€ì›
```
public void OnMoveInput(InputAction.CallbackContext context)
{
	if (context.phase == InputActionPhase.Performed)
	{
	    _curMovementInput = context.ReadValue<Vector2>();
	}
	else if (context.phase == InputActionPhase.Canceled)
	{
	    _curMovementInput = Vector2.zero;
	}
}

private void Move()
{
	Vector3 dir = transform.forward * _curMovementInput.y + transform.right * _curMovementInput.x;
	dir *= MoveSpeed;
	dir.y = _rigidbody.velocity.y;
	
	_rigidbody.velocity = dir;
}
```

#### ê²°ê³¼
- ë³µì¡í•œ ì…ë ¥ ì‹œìŠ¤í…œì´ë‚˜ ë‹¤ì¤‘ ì…ë ¥ ì¡°í•©ì„ ìœ ì—°í•˜ê²Œ ì²˜ë¦¬
<br/>

### 2. Physics.Raycastë¥¼ ì´ìš©í•œ ì´ê¸° êµ¬í˜„ ê°œì„ 
<img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/d736e5a7-8aca-4f6b-b4af-56039f537bb6" width="50%"/>

#### ì´ì•Œ í”„ë¦¬íŒ¹ì„ ìƒì„±í•´ì„œ ì´ê¸° êµ¬í˜„
- ì‹¤ì œì™€ ê°™ì€ ì´ì•Œ ì†ë„, íƒ„ë„í•™ ë“± ì ìš© ê°€ëŠ¥
- ì‹¤ì œì™€ ìœ ì‚¬í•˜ê²Œ ì ìš©í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›€
- ì ì í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ë²• í•„ìš”
```
private void Fire()
{
	Instantiate(bullet, transform.position, Quaternion.identity);
}
```

#### Physics.Raycastë¡œ ê°œì„ 
- ì´ì•Œ í”„ë¦¬íŒ¹ì„ ìƒì„±í•  í•„ìš”ê°€ ì—†ìŒ
- ì¦‰ê°ì ìœ¼ë¡œ ëŒ€ìƒì˜ ì •ë³´ë¥¼ ì½ì–´ ì˜¬ ìˆ˜ ìˆìŒ
- ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ë²•ì´ í•„ìš” ì—†ìŒ
```
if (Physics.Raycast(Camera.main.transform.position, Camera.main.transform.forward, out _hitInfo, 50f))
{
    Debug.Log(_hitInfo.transform.name);
}
```

#### ê²°ê³¼
- ì´ˆë‹¹ í”„ë ˆì„ ê°œì„  (63 FPS â†’ 73 FPS)
<p align="center">
  <img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/5b4e21fc-eaef-4272-986f-ec634f077708" width="49%"/>
  <img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/dee9851e-ed68-4e00-80ca-6c9db30fc122" width="49%"/>
</p>
<br/>

### 3. ObjectPoolì„ ì´ìš©í•œ ì´ê¸° íƒ„í”¼ êµ¬í˜„ ê°œì„ 
<img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/51eaa960-70bc-4614-8236-36bcd36584bd" width="50%"/>

#### í”„ë¦¬íŒ¹ ìƒì„±, íŒŒê´´ë¡œ ì´ê¸° íƒ„í”¼ êµ¬í˜„
- ê°„ë‹¨í•˜ê³  ì§ê´€ì ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥
- ë°˜ë³µì ì¸ í”„ë¦¬íŒ¹ ìƒì„±, ì‚­ì œë¡œ ì„±ëŠ¥ ì €í•˜ ì´ˆë˜
- ì ì ˆí•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ë²• í•„ìš”
```
private void Fire()
{
	Instantiate(_bulletEffectObj, transform.position, Quaternion.identity);
}
```

#### ObjectPoolë¡œ ê°œì„ 
- í”„ë¦¬íŒ¹ ìƒì„±, íŒŒê´´ë¥¼ í•˜ì§€ ì•ŠìŒ
- ê°ì²´ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ì„œ ì¬ì‚¬ìš© â†’ ë©”ëª¨ë¦¬ ìµœì í™” ê°€ëŠ¥

ObjectPoolManager
```
public void GunEffect(string poolName ,Vector3 startPosition, Quaternion rotation)
{
	_bulletEffectObj = ObjectPool.SpawnFromPool(poolName);
	
	_bulletEffectObj.transform.position = startPosition;
	_bulletEffectObj.transform.rotation = rotation;
	//RangedAttackController attackController = obj.GetComponent<RangedAttackController>();
	//attackController.InitializeAttack(direction, attackData, this);
	
	_bulletEffectObj.SetActive(true);
	StartCoroutine(COGunEffectInactive());
}

IEnumerator COGunEffectInactive()
{
	GameObject obj = _bulletEffectObj;
	
	yield return new WaitForSeconds(0.5f);
	obj.SetActive(false);
}
```

ObjectPool
```
public GameObject SpawnFromPool(string tag)
{
if (!PoolDictionary.ContainsKey(tag))
    return null;

GameObject obj = PoolDictionary[tag].Dequeue();
PoolDictionary[tag].Enqueue(obj);

return obj;
}
```
<img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/558554b0-f1c7-4bd5-b0d0-334c68ce8041" width="50%"/>

#### ê²°ê³¼
- ì´ˆë‹¹ í”„ë ˆì„ ê°œì„  (50 FPS â†’ 76 FPS)
<p align="center">
  <img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/e02299d0-c341-4ce3-9006-d945f44c5431" width="49%"/>
  <img src="https://github.com/JaeMinNa/Ocean_Bloom/assets/149379194/3b3c0f06-0d57-4f9f-ad4a-7f0070b47a9e" width="49%"/>
</p>
<br/>



